<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Mini Brawl</title>
<style>
html,body{margin:0;overflow:hidden;font-family:Arial;background:#111;color:white}

/* UI SCREENS */
.screen{
 position:fixed;top:0;left:0;width:100%;height:100%;
 display:flex;flex-direction:column;
 align-items:center;justify-content:center;
 background:#111;z-index:10
}
button{
 padding:15px 30px;
 font-size:20px;
 margin:10px;
 border:none;border-radius:10px;
 background:#ffd000;color:black
}
#game{display:none}
#hud{position:fixed;top:10px;left:10px;z-index:5}
</style>
</head>
<body>

<!-- LOBBY -->
<div id="lobby" class="screen">
 <h1>MINI BRAWL</h1>
 <button onclick="startMatch()">PLAY</button>
 <p>Brawler: Shelly (default)</p>
</div>

<!-- GAME -->
<div id="game">
 <div id="hud">HP: <span id="hp">100</span></div>
</div>

<script src="https://cdn.jsdelivr.net/npm/three@0.158.0/build/three.min.js"></script>
<script>
/* ---------- GLOBAL STATE ---------- */
let inGame=false;

/* ---------- START MATCH ---------- */
function startMatch(){
 document.getElementById("lobby").style.display="none";
 document.getElementById("game").style.display="block";
 initGame();
}

/* ---------- GAME ---------- */
function initGame(){
 inGame=true;

 const scene=new THREE.Scene();
 scene.background=new THREE.Color(0xe6d3a3);

 const camera=new THREE.PerspectiveCamera(60,innerWidth/innerHeight,.1,100);
 camera.position.set(0,12,18);

 const renderer=new THREE.WebGLRenderer({antialias:true});
 renderer.setSize(innerWidth,innerHeight);
 document.body.appendChild(renderer.domElement);

 scene.add(new THREE.AmbientLight(0xffffff,1));

 const floor=new THREE.Mesh(
  new THREE.PlaneGeometry(60,60),
  new THREE.MeshBasicMaterial({color:0xd2b48c})
 );
 floor.rotation.x=-Math.PI/2;
 scene.add(floor);

 const player=new THREE.Mesh(
  new THREE.CylinderGeometry(1,1,1.5,16),
  new THREE.MeshBasicMaterial({color:0x00ffff})
 );
 player.position.y=.75;
 scene.add(player);

 let hp=100;

 // bots (fake multiplayer)
 const bots=[];
 for(let i=0;i<6;i++){
  const b=new THREE.Mesh(
   new THREE.BoxGeometry(2,2,2),
   new THREE.MeshBasicMaterial({color:0xff3333})
  );
  b.position.set((Math.random()-0.5)*40,1,(Math.random()-0.5)*40);
  scene.add(b);
  bots.push(b);
 }

 function loop(){
  requestAnimationFrame(loop);

  // bot AI
  bots.forEach(b=>{
   const dir=player.position.clone().sub(b.position).normalize();
   b.position.add(dir.multiplyScalar(0.03));
   if(b.position.distanceTo(player.position)<2){
    hp-=0.2;
    document.getElementById("hp").innerText=Math.floor(hp);
   }
  });

  camera.position.x+=(player.position.x-camera.position.x)*0.05;
  camera.position.z+=(player.position.z+18-camera.position.z)*0.05;
  camera.lookAt(player.position);

  renderer.render(scene,camera);
 }
 loop();
}
</script>
</body>
</html>